{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/image/background.png","webpack:///./src/image/bgitems.png","webpack:///./src/image/box.png","webpack:///./src/image/candy.png","webpack:///./src/image/mouseDied.png","webpack:///./src/image/mouseLeft.png","webpack:///./src/image/mouseRight.png","webpack:///./src/image/platform.png","webpack:///./src/image/platformSmallTall.png","webpack:///./src/image/playerLeftRun.png","webpack:///./src/image/playerRightRun.png","webpack:///./src/image/playerStand.png","webpack:///./src/image/playerSuperLeftRun.png","webpack:///./src/image/playerSuperRightRun.png","webpack:///./src/image/playerSuperStand.png","webpack:///./src/js/canvas.js"],"names":["canvas","document","querySelector","c","getContext","height","width","gravity","Player","speed","position","x","y","velocity","image","createImage","playerStand","frames","sprites","normal","stand","run","right","playerRightRun","left","playerLeftRun","playerSuperStand","playerSuperRightRun","playerSuperLeftRun","currentSprite","state","setTimeout","drawImage","draw","Mouse","d","startPosition","distance","frame","allFrames","mouseImgR","mouseImgL","died","mouseImgDied","alive","Platform","GenericObject","Coin","clearRect","Goal","box","imageSrc","Image","src","platformImage","platform","platformSmallTallImage","platformSmallTall","playerState","player","platforms","genericObjects","coins","mice","goal","win","finalScore","result","restart","keys","pressed","scrollOffSet","score","init","background","bgitems","candy","drawScore","font","fillStyle","fillText","animate","requestAnimationFrame","fillRect","forEach","genericObject","coin","mouse","update","index","splice","statement","console","log","innerHTML","style","animation","addEventListener","keyCode","opacity"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;ACA/E;AAAe,oFAAuB,yCAAyC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,IAAMA,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACA,IAAMC,CAAC,GAAGH,MAAM,CAACI,UAAP,CAAkB,IAAlB,CAAV;AAEAJ,MAAM,CAACK,MAAP,GAAgB,GAAhB;AACAL,MAAM,CAACM,KAAP,GAAe,IAAf;AAEA,IAAMC,OAAO,GAAG,GAAhB,C,CAGA;;IACMC,M;AACJ,oBAAc;AAAA;;AACZ,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKC,QAAL,GAAgB;AACdC,OAAC,EAAE,GADW;AAEdC,OAAC,EAAE;AAFW,KAAhB;AAIA,SAAKC,QAAL,GAAgB;AACdF,OAAC,EAAE,CADW;AAEdC,OAAC,EAAE;AAFW,KAAhB;AAKA,SAAKN,KAAL,GAAa,EAAb;AACA,SAAKD,MAAL,GAAc,GAAd;AAEA,SAAKS,KAAL,GAAaC,WAAW,CAACC,8DAAD,CAAxB;AACA,SAAKC,MAAL,GAAc,CAAd;AACA,SAAKC,OAAL,GAAe;AACbC,YAAM,EAAE;AACNC,aAAK,EAAEL,WAAW,CAACC,8DAAD,CADZ;AAENK,WAAG,EAAE;AACHC,eAAK,EAAEP,WAAW,CAACQ,iEAAD,CADf;AAEHC,cAAI,EAAET,WAAW,CAACU,gEAAD;AAFd;AAFC,OADK;AAQb,eAAM;AACNL,aAAK,EAAEL,WAAW,CAACW,mEAAD,CADZ;AAENL,WAAG,EAAE;AACHC,eAAK,EAAEP,WAAW,CAACY,sEAAD,CADf;AAEHH,cAAI,EAAET,WAAW,CAACa,qEAAD;AAFd;AAFC;AARO,KAAf;AAeA,SAAKC,aAAL,GAAqB,KAAKX,OAAL,CAAaC,MAAb,CAAoBC,KAAzC;AACA,SAAKU,KAAL,GAAa,QAAb;AACD;;;;gCAEW;AAAA;;AACVC,gBAAU,CAAC,YAAK;AACd,YAAI,KAAI,CAACF,aAAL,KAAuB,KAAI,CAACX,OAAL,UAAmBE,KAA9C,EAAoD;AAClD,eAAI,CAACS,aAAL,GAAqB,KAAI,CAACX,OAAL,CAAaC,MAAb,CAAoBC,KAAzC;AACD,SAFD,MAEO,IAAI,KAAI,CAACS,aAAL,KAAuB,KAAI,CAACX,OAAL,UAAmBG,GAAnB,CAAuBC,KAAlD,EAAyD;AAC9D,eAAI,CAACO,aAAL,GAAqB,KAAI,CAACX,OAAL,CAAaC,MAAb,CAAoBE,GAApB,CAAwBC,KAA7C;AACD,SAFM,MAEA,IAAI,KAAI,CAACO,aAAL,KAAuB,KAAI,CAACX,OAAL,UAAmBG,GAAnB,CAAuBG,IAAlD,EAAwD;AAC7D,eAAI,CAACK,aAAL,GAAqB,KAAI,CAACX,OAAL,CAAaC,MAAb,CAAoBE,GAApB,CAAwBG,IAA7C;AACD;;AACH,aAAI,CAACM,KAAL,GAAa,QAAb;AAAsB,OARZ,EAQc,IARd,CAAV;AASD;;;2BAEM;AACL3B,OAAC,CAAC6B,SAAF,CACE,KAAKH,aADP,EAEE,MAAM,KAAKZ,MAFb,EAGE,CAHF,EAIE,GAJF,EAKE,GALF,EAME,KAAKP,QAAL,CAAcC,CANhB,EAOE,KAAKD,QAAL,CAAcE,CAPhB,EAQE,KAAKN,KARP,EASE,KAAKD,MATP;AAWD;;;6BAEQ;AACP,WAAKY,MAAL;;AACA,UAAG,KAAKA,MAAL,GAAc,CAAjB,EAAoB;AAAC,aAAKA,MAAL,GAAc,CAAd;AAAgB;;AAErC,WAAKgB,IAAL;AACA,WAAKvB,QAAL,CAAcC,CAAd,IAAmB,KAAKE,QAAL,CAAcF,CAAjC;AACA,WAAKD,QAAL,CAAcE,CAAd,IAAmB,KAAKC,QAAL,CAAcD,CAAjC,CANO,CAOP;;AAEA,UAAI,KAAKF,QAAL,CAAcE,CAAd,GAAkB,KAAKP,MAAvB,GAAgC,KAAKQ,QAAL,CAAcD,CAA9C,IAAmDZ,MAAM,CAACK,MAA9D,EAAsE;AACpE,aAAKQ,QAAL,CAAcD,CAAd,IAAmBL,OAAnB;AACA;AACH;;;;KAGH;;;IACM2B,K;AACJ,uBAAqB;AAAA,QAARvB,CAAQ,QAARA,CAAQ;AAAA,QAANC,CAAM,QAANA,CAAM;AAAA,QAAJuB,CAAI,QAAJA,CAAI;;AAAA;;AACnB,SAAK1B,KAAL,GAAa,CAAb;AACA,SAAK2B,aAAL,GAAqB;AAACzB,OAAC,EAADA,CAAD;AAAGC,OAAC,EAADA;AAAH,KAArB;AACA,SAAKF,QAAL,GAAgB;AAACC,OAAC,EAADA,CAAD;AAAGC,OAAC,EAADA;AAAH,KAAhB;AACA,SAAKN,KAAL,GAAa,EAAb;AACA,SAAKD,MAAL,GAAc,EAAd;AACA,SAAKgC,QAAL,GAAgBF,CAAC,GAAG,KAAK7B,KAAzB;AACA,SAAKgC,KAAL,GAAa,CAAb;AACA,SAAKC,SAAL,GAAiB,KAAKF,QAAL,GAAgB,KAAM5B,KAAvC;AACA,SAAKS,OAAL,GAAe;AACbI,WAAK,EAAEP,WAAW,CAACyB,8DAAD,CADL;AAEbhB,UAAI,EAAET,WAAW,CAAC0B,6DAAD,CAFJ;AAGbC,UAAI,EAAE3B,WAAW,CAAC4B,6DAAD;AAHJ,KAAf;AAKA,SAAKd,aAAL,GAAqB,KAAKX,OAAL,CAAaI,KAAlC;AACA,SAAKsB,KAAL,GAAa,IAAb;AAED;;;;2BAEM;AACLzC,OAAC,CAAC6B,SAAF,CACE,KAAKH,aADP,EAEE,KAAKnB,QAAL,CAAcC,CAFhB,EAGE,KAAKD,QAAL,CAAcE,CAHhB,EAIE,KAAKN,KAJP,EAKE,KAAKD,MALP;AAMD;;;6BAEQ;AACP,WAAK4B,IAAL;AACA,WAAKvB,QAAL,CAAcC,CAAd,IAAmB,KAAKF,KAAxB;AACA,WAAK6B,KAAL;;AACA,UAAG,CAAC,KAAKM,KAAT,EAAgB;AACd,aAAKf,aAAL,GAAqB,KAAKX,OAAL,CAAawB,IAAlC;AACA,aAAKjC,KAAL,GAAa,CAAb;AACD;;AACD,UAAI,KAAK6B,KAAL,GAAa,KAAKC,SAAtB,EAAgC;AAC9B,aAAK9B,KAAL,GAAa,CAAC,KAAKA,KAAnB;AACA,aAAKoB,aAAL,GAAsB,KAAKA,aAAL,KAAuB,KAAKX,OAAL,CAAaM,IAArC,GAA6C,KAAKN,OAAL,CAAaI,KAA1D,GAAkE,KAAKJ,OAAL,CAAaM,IAApG;AACA,aAAKc,KAAL,GAAa,CAAb;AACD;AAEF;;;;KAGH;;;IACMO,Q;AACJ,2BAA4B;AAAA,QAAdlC,CAAc,SAAdA,CAAc;AAAA,QAAXC,CAAW,SAAXA,CAAW;AAAA,QAARE,KAAQ,SAARA,KAAQ;;AAAA;;AAC1B,SAAKJ,QAAL,GAAgB;AACdC,OAAC,EAADA,CADc;AAEdC,OAAC,EAADA;AAFc,KAAhB;AAIA,SAAKE,KAAL,GAAaA,KAAb;AACA,SAAKR,KAAL,GAAaQ,KAAK,CAACR,KAAnB;AACA,SAAKD,MAAL,GAAcS,KAAK,CAACT,MAApB;AACD;;;;2BAEM;AACLF,OAAC,CAAC6B,SAAF,CAAY,KAAKlB,KAAjB,EAAwB,KAAKJ,QAAL,CAAcC,CAAtC,EAAyC,KAAKD,QAAL,CAAcE,CAAvD;AACD;;;;KAGH;;;IACMkC,a;AACJ,gCAA6B;AAAA,QAAfnC,CAAe,SAAfA,CAAe;AAAA,QAAZC,CAAY,SAAZA,CAAY;AAAA,QAATE,KAAS,SAATA,KAAS;;AAAA;;AAC3B,SAAKJ,QAAL,GAAgB;AACdC,OAAC,EAADA,CADc;AAEdC,OAAC,EAADA;AAFc,KAAhB;AAIA,SAAKE,KAAL,GAAaA,KAAb;AACA,SAAKR,KAAL,GAAaQ,KAAK,CAACR,KAAnB;AACA,SAAKD,MAAL,GAAcS,KAAK,CAACT,MAApB;AACD;;;;2BAEM;AACLF,OAAC,CAAC6B,SAAF,CAAY,KAAKlB,KAAjB,EAAwB,KAAKJ,QAAL,CAAcC,CAAtC,EAAyC,KAAKD,QAAL,CAAcE,CAAvD;AACD;;;;KAGH;;;IAEMmC,I;AACJ,uBAA6B;AAAA,QAAfpC,CAAe,SAAfA,CAAe;AAAA,QAAZC,CAAY,SAAZA,CAAY;AAAA,QAATE,KAAS,SAATA,KAAS;;AAAA;;AAC3B,SAAKJ,QAAL,GAAgB;AACdC,OAAC,EAADA,CADc;AAEdC,OAAC,EAADA;AAFc,KAAhB;AAIA,SAAKE,KAAL,GAAaA,KAAb;AACA,SAAKR,KAAL,GAAaQ,KAAK,CAACR,KAAnB;AACA,SAAKD,MAAL,GAAcS,KAAK,CAACT,MAApB;AACD;;;;2BAEM;AACLF,OAAC,CAAC6B,SAAF,CAAY,KAAKlB,KAAjB,EAAwB,KAAKJ,QAAL,CAAcC,CAAtC,EAAyC,KAAKD,QAAL,CAAcE,CAAvD;AACD;;;4BAEO;AACNT,OAAC,CAAC6C,SAAF,CAAY,KAAKrC,CAAjB,EAAoB,KAAKC,CAAzB,EAA4B,KAAKN,KAAjC,EAAwC,KAAKD,MAA7C;AACD;;;;KAIH;;;IACM4C,I;AACJ,kBAAc;AAAA;;AACZ,SAAKvC,QAAL,GAAgB;AACdC,OAAC,EAAE,IADW;AAEdC,OAAC,EAAE;AAFW,KAAhB;AAIA,SAAKN,KAAL,GAAa,GAAb;AACA,SAAKD,MAAL,GAAc,EAAd;AAEA,SAAKS,KAAL,GAAaC,WAAW,CAACmC,uDAAD,CAAxB;AACD;;;;2BAEM;AACL/C,OAAC,CAAC6B,SAAF,CAAY,KAAKlB,KAAjB,EAAwB,KAAKJ,QAAL,CAAcC,CAAtC,EAAyC,KAAKD,QAAL,CAAcE,CAAvD,EAA0D,KAAKN,KAA/D,EAAsE,KAAKD,MAA3E;AACD;;;;;;AAGH,SAASU,WAAT,CAAqBoC,QAArB,EAA+B;AAC7B,MAAMrC,KAAK,GAAG,IAAIsC,KAAJ,EAAd;AACAtC,OAAK,CAACuC,GAAN,GAAYF,QAAZ;AACA,SAAOrC,KAAP;AACD;;AAED,IAAIwC,aAAa,GAAGvC,WAAW,CAACwC,2DAAD,CAA/B;AACA,IAAIC,sBAAsB,GAAGzC,WAAW,CAAC0C,oEAAD,CAAxC;AAEA,IAAIC,WAAW,GAAG,QAAlB;AACA,IAAIC,MAAM,GAAG,EAAb;AACA,IAAIC,SAAS,GAAG,EAAhB;AACA,IAAIC,cAAc,GAAG,EAArB;AACA,IAAIC,KAAK,GAAG,EAAZ;AACA,IAAIC,IAAI,GAAG,EAAX;AAEA,IAAIC,IAAI,GAAE,EAAV;AACA,IAAIC,GAAG,GAAGhE,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAV;AACA,IAAIgE,UAAU,GAAGjE,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAjB;AACA,IAAIiE,MAAM,GAAGlE,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAb;AACA,IAAIkE,OAAO,GAAGnE,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAd;AAIA,IAAMmE,IAAI,GAAG;AACX/C,OAAK,EAAE;AACLgD,WAAO,EAAG;AADL,GADI;AAIX9C,MAAI,EAAE;AACJ8C,WAAO,EAAE;AADL;AAJK,CAAb;AASA,IAAIC,YAAY,GAAG,CAAnB;AACA,IAAIC,KAAK,GAAG,CAAZ,C,CAEA;;AACA,SAASC,IAAT,GAAgB;AACdd,QAAM,GAAG,IAAInD,MAAJ,EAAT;AACAwD,MAAI,GAAG,IAAIf,IAAJ,EAAP;AAEAuB,OAAK,GAAG,CAAR;AAEAlB,eAAa,GAAGvC,WAAW,CAACwC,2DAAD,CAA3B;AAEAI,QAAM,GAAG,IAAInD,MAAJ,EAAT,CARc,CASd;;AACAoD,WAAS,GAAG,CACV,IAAIf,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GAA1B,GAAgCkD,sBAAsB,CAAClD,KAD/C;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAE0C;AAHI,GAAb,CADU,EAMV,IAAIX,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GAA1B,GAAgCkD,sBAAsB,CAAClD,KAAvB,GAA+B,CADvD;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAE0C;AAHI,GAAb,CANU,EAWV,IAAIX,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GAA1B,GAAgCkD,sBAAsB,CAAClD,KAAvB,GAA+B,CADvD;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAE0C;AAHI,GAAb,CAXU,EAgBV,IAAIX,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GAA1B,GAAgC,CAAhC,GAAoCkD,sBAAsB,CAAClD,KAAvB,GAA+B,CAD3D;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAE0C;AAHI,GAAb,CAhBU,EAqBV,IAAIX,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EADd;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAE0C;AAHI,GAAb,CArBU,EA0BV,IAAIX,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,CADnB;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAE0C;AAHI,GAAb,CA1BU,EA+BV,IAAIX,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,CADnB;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAE0C;AAHI,GAAb,CA/BU,EAoCV,IAAIX,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,CAA3B,GAA+BkD,sBAAsB,CAAClD,KAD9C;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAE0C;AAHI,GAAb,CApCU,EAyCV,IAAIX,QAAJ,CAAa;AACXlC,KAAC,EAAE,CADQ;AAEXC,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CAzCU,EA8CV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CADd;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CA9CU,EAmDV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,EADlB;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CAnDU,EAwDV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GADlB;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CAxDU,EA6DV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GADlB;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CA7DU,EAkEV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CADd;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CAlEU,EAuEV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CADd;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CAvEU,EA4EV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GADlB;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CA5EU,EAiFV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EADd;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CAjFU,EAsFV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EADd;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CAtFU,EA2FV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADnB;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CA3FU,EAgGV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADnB;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CAhGU,EAqGV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADnB;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CArGU,EA0GV,IAAIT,QAAJ,CAAa;AACXlC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADnB;AAEXM,KAAC,EAAE,GAFQ;AAGXE,SAAK,EAAEwC;AAHI,GAAb,CA1GU,CAAZ;AAgHAO,gBAAc,GAAG,CACf,IAAIf,aAAJ,CAAkB;AAChBnC,KAAC,EAAE,CADa;AAEhBC,KAAC,EAAE,CAFa;AAGhBE,SAAK,EAAEC,WAAW,CAAC2D,6DAAD;AAHF,GAAlB,CADe,EAOf,IAAI5B,aAAJ,CAAkB;AAChBnC,KAAC,EAAE,CADa;AAEhBC,KAAC,EAAE,CAFa;AAGhBE,SAAK,EAAEC,WAAW,CAAC4D,0DAAD;AAHF,GAAlB,CAPe,CAAjB;AAcEb,OAAK,GAAG,CACN,IAAIf,IAAJ,CAAU;AACRpC,KAAC,EAAE,IADK;AAERC,KAAC,EAAE,GAFK;AAGRE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHV,GAAV,CADM,EAMN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,GADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CANM,EAWN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,GADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAXM,EAgBN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,GADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAhBM,EAqBN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,GADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CArBM,EA0BN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,GADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA1BM,EA+BN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,GADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA/BM,EAoCN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CApCM,EAyCN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAzCM,EA8CN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA9CM,EAmDN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAnDM,EAwDL,IAAI7B,IAAJ,CAAS;AACRpC,KAAC,EAAE,OAAO,IADF;AAERC,KAAC,EAAE,GAFK;AAGRE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHV,GAAT,CAxDK,EA6DN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA7DM,EAkEN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAlEM,EAuEN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAvEM,EA4EN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA5EM,EAiFN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAjFM,EAsFN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAtFM,EA2FN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA3FM,EAgGN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAhGM,EAqGN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE,OAAO,IADH;AAEPC,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CArGM,EA0GN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GADtB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA1GM,EA+GN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GADtB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA/GM,EAoHN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GADtB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CApHM,EAyHN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GADtB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAzHM,EA8HN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA0B,GADtB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA9HM,EAmIA,IAAI7B,IAAJ,CAAS;AACbpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADjB;AAEbM,KAAC,EAAE,GAFU;AAGbE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHL,GAAT,CAnIA,EAwIN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADvB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAxIM,EA6IN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADvB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA7IM,EAkJN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADvB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAlJM,EAuJN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADvB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAvJM,EA4JN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADvB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA5JM,EAiKN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADvB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAjKM,EAsKN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADvB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CAtKM,EA2KN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADvB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CA3KM,EAgLA,IAAI7B,IAAJ,CAAS;AACbpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADjB;AAEbM,KAAC,EAAE,GAFU;AAGbE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHL,GAAT,CAhLA,EAqLN,IAAI7B,IAAJ,CAAS;AACPpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADvB;AAEPM,KAAC,EAAE,GAFI;AAGPE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHX,GAAT,CArLM,EA0LA,IAAI7B,IAAJ,CAAS;AACbpC,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,EAAtB,GAA2B,GADjB;AAEbM,KAAC,EAAE,GAFU;AAGbE,SAAK,EAAEC,WAAW,CAAC6D,yDAAD;AAHL,GAAT,CA1LA,CAAR;AAgMAb,MAAI,GAAG,CACL,IAAI7B,KAAJ,CAAU;AACRvB,KAAC,EAAE2C,aAAa,CAAChD,KADT;AAERM,KAAC,EAAE,GAFK;AAGRuB,KAAC,EAAEmB,aAAa,CAAChD;AAHT,GAAV,CADK,EAML,IAAI4B,KAAJ,CAAU;AACRvB,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CADjB;AAERM,KAAC,EAAE,GAFK;AAGRuB,KAAC,EAAEmB,aAAa,CAAChD,KAAd,GAAqB;AAHhB,GAAV,CANK,EAWL,IAAI4B,KAAJ,CAAU;AACRvB,KAAC,EAAE2C,aAAa,CAAChD,KAAd,GAAsB,CAAtB,GAA0B,GAA1B,GAAgC,CAAhC,GAAoCkD,sBAAsB,CAAClD,KAAvB,GAA+B,CAD9D;AAERM,KAAC,EAAE,GAFK;AAGRuB,KAAC,EAAEqB,sBAAsB,CAAClD;AAHlB,GAAV,CAXK,CAAP;AAiBFiE,cAAY,GAAG,CAAf;AACD,C,CAED;;;AACA,SAASM,SAAT,GAAqB;AACnB1E,GAAC,CAAC2E,IAAF,GAAS,YAAT;AACA3E,GAAC,CAAC4E,SAAF,GAAc,SAAd;AACA5E,GAAC,CAAC6E,QAAF,CAAW,YAAUR,KAArB,EAA4B,EAA5B,EAAgC,GAAhC;AACD,C,CAED;;;AACA,SAASS,OAAT,GAAmB;AACjBC,uBAAqB,CAACD,OAAD,CAArB;AACA9E,GAAC,CAAC4E,SAAF,GAAc,OAAd;AACA5E,GAAC,CAACgF,QAAF,CAAW,CAAX,EAAc,CAAd,EAAiBnF,MAAM,CAACM,KAAxB,EAA+BN,MAAM,CAACK,MAAtC;AACAwD,gBAAc,CAACuB,OAAf,CAAuB,UAAAC,aAAa,EAAI;AAAEA,iBAAa,CAACpD,IAAd;AAAqB,GAA/D;AACA2B,WAAS,CAACwB,OAAV,CAAkB,UAAA7B,QAAQ,EAAI;AAAEA,YAAQ,CAACtB,IAAT;AAAgB,GAAhD;AACA6B,OAAK,CAACsB,OAAN,CAAc,UAAAE,IAAI,EAAI;AAAEA,QAAI,CAACrD,IAAL;AAAa,GAArC;AACA8B,MAAI,CAACqB,OAAL,CAAa,UAAAG,KAAK,EAAI;AAAEA,SAAK,CAACC,MAAN;AAAgB,GAAxC;AACA7B,QAAM,CAAC6B,MAAP;AACAxB,MAAI,CAAC/B,IAAL;AACA4C,WAAS,GAVQ,CAYjB;;AACA,MAAIR,IAAI,CAAC/C,KAAL,CAAWgD,OAAX,IAAsBX,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoBgD,MAAM,CAACrD,KAA3B,GAAkC,EAAlC,GAAuC0D,IAAI,CAACtD,QAAL,CAAcC,CAA3E,IAAgFgD,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoBqD,IAAI,CAACtD,QAAL,CAAcC,CAAd,GAAkBqD,IAAI,CAAC1D,KAAvB,GAA8B,EAAlI,IAAwIqD,MAAM,CAACjD,QAAP,CAAgBE,CAAhB,GAAmB+C,MAAM,CAACtD,MAA1B,GAAmC2D,IAAI,CAACtD,QAAL,CAAcE,CAA7L,EAA+L;AAC7L+C,UAAM,CAAC9C,QAAP,CAAgBF,CAAhB,GAAoB,CAApB;AAED,GAHD,MAGO,IAAI0D,IAAI,CAAC7C,IAAL,CAAU8C,OAAV,IAAqBX,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,IAAqBqD,IAAI,CAACtD,QAAL,CAAcC,CAAd,GAAkBqD,IAAI,CAAC1D,KAAvB,GAA+B,EAAzE,IAA+EqD,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,IAAqBqD,IAAI,CAACtD,QAAL,CAAcC,CAAlH,IAAuHgD,MAAM,CAACjD,QAAP,CAAgBE,CAAhB,GAAoB+C,MAAM,CAACtD,MAA3B,GAAoC2D,IAAI,CAACtD,QAAL,CAAcE,CAA7K,EAAgL;AACrL+C,UAAM,CAAC9C,QAAP,CAAgBF,CAAhB,GAAoB,CAApB;AACD,GAFM,CAGP;AAHO,OAIF,IAAK0D,IAAI,CAAC/C,KAAL,CAAWgD,OAAX,IAAsBX,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoBX,MAAM,CAACM,KAAP,GAAe,CAA1D,IAAiE+D,IAAI,CAAC/C,KAAL,CAAWgD,OAAX,IAAsBC,YAAY,IAAI,IAAtC,IAA8CZ,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoB,GAAvI,EAA4I;AAC/IgD,YAAM,CAAC9C,QAAP,CAAgBF,CAAhB,GAAoBgD,MAAM,CAAClD,KAA3B;AAED,KAHI,MAGE,IAAK4D,IAAI,CAAC7C,IAAL,CAAU8C,OAAV,IAAqBX,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoB,GAA1C,IAAkD0D,IAAI,CAAC7C,IAAL,CAAU8C,OAAV,IAAqBC,YAAY,KAAK,CAAtC,IAA2CZ,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAmB,CAApH,EAAuH;AAC5HgD,YAAM,CAAC9C,QAAP,CAAgBF,CAAhB,GAAoB,CAACgD,MAAM,CAAClD,KAA5B;AACD,KAFM,MAEA;AAELkD,YAAM,CAAC9C,QAAP,CAAgBF,CAAhB,GAAoB,CAApB,CAFK,CAIL;;AACA,UAAI0D,IAAI,CAAC/C,KAAL,CAAWgD,OAAX,IAAsBC,YAAY,GAAG,IAAzC,EAA+C;AAE7CA,oBAAY,IAAIZ,MAAM,CAAClD,KAAvB;AACAoD,sBAAc,CAACuB,OAAf,CAAuB,UAAAvB,cAAc,EAAI;AACvCA,wBAAc,CAACnD,QAAf,CAAwBC,CAAxB,IAA6BgD,MAAM,CAAClD,KAAP,GAAe,IAA5C;AACD,SAFD;AAGAmD,iBAAS,CAACwB,OAAV,CAAkB,UAAA7B,QAAQ,EAAI;AAC5BA,kBAAQ,CAAC7C,QAAT,CAAkBC,CAAlB,IAAuBgD,MAAM,CAAClD,KAA9B;AACD,SAFD;AAGAqD,aAAK,CAACsB,OAAN,CAAc,UAAAE,IAAI,EAAI;AACpBA,cAAI,CAAC5E,QAAL,CAAcC,CAAd,IAAmBgD,MAAM,CAAClD,KAA1B;AACD,SAFD;AAGAsD,YAAI,CAACqB,OAAL,CAAa,UAAAG,KAAK,EAAI;AACpBA,eAAK,CAAC7E,QAAN,CAAeC,CAAf,IAAoBgD,MAAM,CAAClD,KAA3B;AACD,SAFD;AAGAuD,YAAI,CAACtD,QAAL,CAAcC,CAAd,IAAmBgD,MAAM,CAAClD,KAA1B;AACD,OAhBD,MAgBO,IAAI4D,IAAI,CAAC7C,IAAL,CAAU8C,OAAV,IAAqBC,YAAY,GAAG,CAAxC,EAA2C;AAChDA,oBAAY,IAAIZ,MAAM,CAAClD,KAAvB;AACAoD,sBAAc,CAACuB,OAAf,CAAuB,UAAAvB,cAAc,EAAI;AACvCA,wBAAc,CAACnD,QAAf,CAAwBC,CAAxB,IAA6BgD,MAAM,CAAClD,KAAP,GAAe,IAA5C;AACD,SAFD;AAGAmD,iBAAS,CAACwB,OAAV,CAAkB,UAAA7B,QAAQ,EAAI;AAC5BA,kBAAQ,CAAC7C,QAAT,CAAkBC,CAAlB,IAAuBgD,MAAM,CAAClD,KAA9B;AACD,SAFD;AAGAsD,YAAI,CAACqB,OAAL,CAAa,UAAAG,KAAK,EAAI;AACpBA,eAAK,CAAC7E,QAAN,CAAeC,CAAf,IAAoBgD,MAAM,CAAClD,KAA3B;AACD,SAFD;AAGAqD,aAAK,CAACsB,OAAN,CAAc,UAAAE,IAAI,EAAI;AACpBA,cAAI,CAAC5E,QAAL,CAAcC,CAAd,IAAmBgD,MAAM,CAAClD,KAA1B;AACD,SAFD;AAGAuD,YAAI,CAACtD,QAAL,CAAcC,CAAd,IAAmBgD,MAAM,CAAClD,KAA1B;AAED;AACF,KA/DgB,CAiEjB;;;AACAqD,OAAK,CAACsB,OAAN,CAAc,UAACE,IAAD,EAAOG,KAAP,EAAc3B,KAAd,EAAwB;AACpC,QAAIH,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoBgD,MAAM,CAACrD,KAA3B,GAAmC,EAAnC,GAAwCgF,IAAI,CAAC5E,QAAL,CAAcC,CAAtD,IAA2DgD,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoB2E,IAAI,CAAC5E,QAAL,CAAcC,CAAd,GAAkB2E,IAAI,CAAChF,KAAtG,IAA+GqD,MAAM,CAACjD,QAAP,CAAgBE,CAAhB,GAAoB+C,MAAM,CAACtD,MAA3B,GAAoCiF,IAAI,CAAC5E,QAAL,CAAcE,CAAjK,IAAsK+C,MAAM,CAACjD,QAAP,CAAgBE,CAAhB,GAAoB0E,IAAI,CAAC5E,QAAL,CAAcE,CAAd,GAAkB0E,IAAI,CAACjF,MAArN,EAA6N;AAC3NyD,WAAK,CAAC4B,MAAN,CAAaD,KAAb,EAAoB,CAApB;AACAjB,WAAK,IAAI,EAAT;AACD;AACF,GALD,EAlEiB,CAyEjB;;AACFT,MAAI,CAACqB,OAAL,CAAa,UAACG,KAAD,EAAQE,KAAR,EAAe1B,IAAf,EAAuB;AAClC,QAAIwB,KAAK,CAAC3C,KAAN,IAAee,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoBgD,MAAM,CAACrD,KAA3B,GAAmCiF,KAAK,CAAC7E,QAAN,CAAeC,CAAjE,IAAsEgD,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoB4E,KAAK,CAAC7E,QAAN,CAAeC,CAAf,GAAmB4E,KAAK,CAACjF,KAAnH,IAA4HqD,MAAM,CAACtD,MAAP,GAAgBsD,MAAM,CAACjD,QAAP,CAAgBE,CAAhC,IAAqC2E,KAAK,CAAC7E,QAAN,CAAeE,CAAhL,IAAqL+C,MAAM,CAACtD,MAAP,GAAgBsD,MAAM,CAACjD,QAAP,CAAgBE,CAAhC,GAAoC+C,MAAM,CAAC9C,QAAP,CAAgBD,CAApD,IAAyD2E,KAAK,CAAC7E,QAAN,CAAeE,CAAjQ,EAAqQ;AACnQ4D,WAAK,IAAI,EAAT;AACAe,WAAK,CAAC3C,KAAN,GAAc,KAAd;AACAb,gBAAU,CAAC,YAAM;AAAEgC,YAAI,CAAC2B,MAAL,CAAYD,KAAZ,EAAmB,CAAnB;AAAsB,OAA/B,EAAgC,IAAhC,CAAV;AACD,KAJD,MAIO,IAAIF,KAAK,CAAC3C,KAAN,IAAee,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoBgD,MAAM,CAACrD,KAA3B,GAAmCiF,KAAK,CAAC7E,QAAN,CAAeC,CAAjE,IAAsEgD,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoB4E,KAAK,CAAC7E,QAAN,CAAeC,CAAf,GAAmB4E,KAAK,CAACjF,KAAnH,IAA4HqD,MAAM,CAACtD,MAAP,GAAgBsD,MAAM,CAACjD,QAAP,CAAgBE,CAAhC,GAAoC2E,KAAK,CAAC7E,QAAN,CAAeE,CAA/K,IAAoL+C,MAAM,CAAC7B,KAAP,KAAiB,QAAzM,EAAoN;AACzN0C,WAAK,IAAI,GAAT;AACAb,YAAM,CAAC7B,KAAP,GAAe,OAAf;;AACA,UAAI6B,MAAM,CAAC9B,aAAP,KAAyB8B,MAAM,CAACzC,OAAP,CAAeC,MAAf,CAAsBC,KAAnD,EAA0D;AACxDuC,cAAM,CAAC9B,aAAP,GAAuB8B,MAAM,CAACzC,OAAP,UAAqBE,KAA5C;AACD,OAFD,MAEO,IAAIuC,MAAM,CAAC9B,aAAP,KAAyB8B,MAAM,CAACzC,OAAP,CAAeC,MAAf,CAAsBE,GAAtB,CAA0BC,KAAvD,EAA8D;AACnEqC,cAAM,CAAC9B,aAAP,GAAuB8B,MAAM,CAACzC,OAAP,UAAqBG,GAArB,CAAyBC,KAAhD;AACD,OAFM,MAEA,IAAIqC,MAAM,CAAC9B,aAAP,KAAyB8B,MAAM,CAACzC,OAAP,CAAeC,MAAf,CAAsBE,GAAtB,CAA0BG,IAAvD,EAA6D;AAClEmC,cAAM,CAAC9B,aAAP,GAAuB8B,MAAM,CAACzC,OAAP,UAAqBG,GAArB,CAAyBG,IAAhD;AACD;;AACDmC,YAAM,CAACgC,SAAP;AAED;AACF,GAlBD,EA1EmB,CA+FjB;;AACA/B,WAAS,CAACwB,OAAV,CAAkB,UAAA7B,QAAQ,EAAI;AAC5B,QAAII,MAAM,CAACtD,MAAP,GAAgBsD,MAAM,CAACjD,QAAP,CAAgBE,CAAhC,IAAqC2C,QAAQ,CAAC7C,QAAT,CAAkBE,CAAvD,IAA4D+C,MAAM,CAACtD,MAAP,GAAgBsD,MAAM,CAACjD,QAAP,CAAgBE,CAAhC,GAAoC+C,MAAM,CAAC9C,QAAP,CAAgBD,CAApD,IAAyD2C,QAAQ,CAAC7C,QAAT,CAAkBE,CAAvI,IAA4I+C,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoBgD,MAAM,CAACrD,KAA3B,IAAoCiD,QAAQ,CAAC7C,QAAT,CAAkBC,CAAlM,IAAuMgD,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,IAAqB4C,QAAQ,CAAC7C,QAAT,CAAkBC,CAAlB,GAAsB4C,QAAQ,CAACjD,KAA/P,EAAsQ;AACpQqD,YAAM,CAAC9C,QAAP,CAAgBD,CAAhB,GAAoB,CAApB;AACD;AAEF,GALD,EAhGiB,CAuGjB;;AACA,MAAK+C,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoBgD,MAAM,CAACrD,KAA3B,IAAoC0D,IAAI,CAACtD,QAAL,CAAcC,CAAd,GAAkBgD,MAAM,CAACrD,KAA7D,IAAsEqD,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoBgD,MAAM,CAACrD,KAA3B,IAAoC0D,IAAI,CAACtD,QAAL,CAAcC,CAAxH,IAA6HgD,MAAM,CAACtD,MAAP,GAAgBsD,MAAM,CAACjD,QAAP,CAAgBE,CAAhC,IAAqCoD,IAAI,CAACtD,QAAL,CAAcE,CAAhL,IAAqL+C,MAAM,CAACtD,MAAP,GAAgBsD,MAAM,CAACjD,QAAP,CAAgBE,CAAhC,GAAoC+C,MAAM,CAAC9C,QAAP,CAAgBD,CAApD,GAAwDoD,IAAI,CAACtD,QAAL,CAAcE,CAA5P,IACF+C,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,IAAqBqD,IAAI,CAACtD,QAAL,CAAcC,CAAd,GAAkBqD,IAAI,CAAC1D,KAAvB,GAA+BqD,MAAM,CAACrD,KAA3D,IAAoEqD,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,IAAqBqD,IAAI,CAACtD,QAAL,CAAcC,CAAd,GAAkBqD,IAAI,CAAC1D,KAAhH,IAAyHqD,MAAM,CAACtD,MAAP,GAAgBsD,MAAM,CAACjD,QAAP,CAAgBE,CAAhC,IAAqCoD,IAAI,CAACtD,QAAL,CAAcE,CAA5K,IAAiL+C,MAAM,CAACtD,MAAP,GAAgBsD,MAAM,CAACjD,QAAP,CAAgBE,CAAhC,GAAoC+C,MAAM,CAAC9C,QAAP,CAAgBD,CAApD,GAAwDoD,IAAI,CAACtD,QAAL,CAAcE,CADrP,IAED+C,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,IAAqBqD,IAAI,CAACtD,QAAL,CAAcC,CAAnC,IAAwCgD,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,IAAqBqD,IAAI,CAACtD,QAAL,CAAcC,CAAd,GAAkBqD,IAAI,CAAC1D,KAApF,IAA+FqD,MAAM,CAACtD,MAAP,GAAgBsD,MAAM,CAACjD,QAAP,CAAgBE,CAAhC,IAAqCoD,IAAI,CAACtD,QAAL,CAAcE,CAAd,GAAkB,EAAtJ,IAA4J+C,MAAM,CAACtD,MAAP,GAAgBsD,MAAM,CAACjD,QAAP,CAAgBE,CAAhC,GAAoC+C,MAAM,CAAC9C,QAAP,CAAgBD,CAApD,IAAyDoD,IAAI,CAACtD,QAAL,CAAcE,CAAd,GAAkB,EAF1O,EAE8O;AAC5O+C,UAAM,CAAC9C,QAAP,CAAgBD,CAAhB,GAAoB,CAApB;AACAgF,WAAO,CAACC,GAAR,CAAY,OAAZ;AACD,GA7GgB,CAgHjB;;;AAEA,MAAIlC,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAoBqD,IAAI,CAACtD,QAAL,CAAcC,CAAlC,IAAwCgD,MAAM,CAACjD,QAAP,CAAgBC,CAAhB,GAAqBqD,IAAI,CAACtD,QAAL,CAAcC,CAAd,GAAkBqD,IAAI,CAAC1D,KAAvB,GAA+B,EAA5F,IAAkGqD,MAAM,CAACjD,QAAP,CAAgBE,CAAhB,GAAoB+C,MAAM,CAACtD,MAA3B,GAAoC2D,IAAI,CAACtD,QAAL,CAAcE,CAAxJ,EAA2J;AACzJ8C,eAAW,GAAG,KAAd;AACAQ,cAAU,CAAC4B,SAAX,GAAuBtB,KAAvB;AACAL,UAAM,CAAC2B,SAAP,GAAmB,UAAnB;AACA7B,OAAG,CAAC8B,KAAJ,CAAUC,SAAV,GAAsB,iCAAtB,CAJyJ,CAKzJ;;AACAJ,WAAO,CAACC,GAAR,CAAY,KAAZ;AACD,GAzHgB,CA2HjB;;;AACA,MAAIlC,MAAM,CAACjD,QAAP,CAAgBE,CAAhB,GAAoBZ,MAAM,CAACK,MAA/B,EAAuC;AACrCoE,QAAI;AACJmB,WAAO,CAACC,GAAR,CAAY,UAAZ;AACD,GA/HgB,CAgIjB;;AACD;;AAGDpB,IAAI;AACJQ,OAAO;AACPJ,SAAS,G,CAET;;AACAoB,gBAAgB,CAAC,SAAD,EAAY,iBAAiB;AAAA,MAAdC,OAAc,SAAdA,OAAc;;AAC3C,MAAIxC,WAAW,KAAK,QAApB,EAA6B;AAC3B,YAAQwC,OAAR;AACE,WAAK,EAAL;AACEN,eAAO,CAACC,GAAR,CAAY,MAAZ;AACAxB,YAAI,CAAC7C,IAAL,CAAU8C,OAAV,GAAoB,IAApB;;AACA,YAAIX,MAAM,CAAC7B,KAAP,KAAiB,OAArB,EAA8B;AAC5B6B,gBAAM,CAAC9B,aAAP,GAAuB8B,MAAM,CAACzC,OAAP,UAAqBG,GAArB,CAAyBG,IAAhD;AACD,SAFD,MAEO;AACLmC,gBAAM,CAAC9B,aAAP,GAAuB8B,MAAM,CAACzC,OAAP,CAAeC,MAAf,CAAsBE,GAAtB,CAA0BG,IAAjD;AACD;;AAED;;AAEF,WAAK,EAAL;AACEoE,eAAO,CAACC,GAAR,CAAY,MAAZ;AACA;;AAEF,WAAK,EAAL;AACED,eAAO,CAACC,GAAR,CAAY,OAAZ;AACAxB,YAAI,CAAC/C,KAAL,CAAWgD,OAAX,GAAqB,IAArB;;AACA,YAAIX,MAAM,CAAC7B,KAAP,KAAiB,OAArB,EAA8B;AAC5B6B,gBAAM,CAAC9B,aAAP,GAAuB8B,MAAM,CAACzC,OAAP,UAAqBG,GAArB,CAAyBC,KAAhD;AACD,SAFD,MAEO;AACLqC,gBAAM,CAAC9B,aAAP,GAAuB8B,MAAM,CAACzC,OAAP,CAAeC,MAAf,CAAsBE,GAAtB,CAA0BC,KAAjD;AACD;;AACD;;AAEF,WAAK,EAAL;AACEsE,eAAO,CAACC,GAAR,CAAY,IAAZ;AACAlC,cAAM,CAAC9C,QAAP,CAAgBD,CAAhB,IAAqB,CAArB;AACA;AA7BJ;AA+BD;AAEF,CAnCe,CAAhB;AAqCAqF,gBAAgB,CAAC,OAAD,EAAU,iBAAiB;AAAA,MAAdC,OAAc,SAAdA,OAAc;;AACzC,MAAIxC,WAAW,KAAK,QAApB,EAA8B;AAC9B,YAAQwC,OAAR;AACE,WAAK,EAAL;AACEN,eAAO,CAACC,GAAR,CAAY,MAAZ;AACAxB,YAAI,CAAC7C,IAAL,CAAU8C,OAAV,GAAoB,KAApB;;AACA,YAAIX,MAAM,CAAC7B,KAAP,KAAiB,OAArB,EAA8B;AAC5B6B,gBAAM,CAAC9B,aAAP,GAAuB8B,MAAM,CAACzC,OAAP,UAAqBE,KAA5C;AACD,SAFD,MAEO;AACLuC,gBAAM,CAAC9B,aAAP,GAAuB8B,MAAM,CAACzC,OAAP,CAAeC,MAAf,CAAsBC,KAA7C;AACD;;AACD;;AAEF,WAAK,EAAL;AACEwE,eAAO,CAACC,GAAR,CAAY,MAAZ;AACA;;AAEF,WAAK,EAAL;AACED,eAAO,CAACC,GAAR,CAAY,OAAZ;AACAxB,YAAI,CAAC/C,KAAL,CAAWgD,OAAX,GAAqB,KAArB;;AACA,YAAIX,MAAM,CAAC7B,KAAP,KAAiB,OAArB,EAA8B;AAC5B6B,gBAAM,CAAC9B,aAAP,GAAuB8B,MAAM,CAACzC,OAAP,UAAqBE,KAA5C;AACD,SAFD,MAEO;AACLuC,gBAAM,CAAC9B,aAAP,GAAuB8B,MAAM,CAACzC,OAAP,CAAeC,MAAf,CAAsBC,KAA7C;AACD;;AACD;;AAEF,WAAK,EAAL;AACEwE,eAAO,CAACC,GAAR,CAAY,IAAZ;AACA;AA3BJ;AA6BD;AACA,CAhCe,CAAhB;AAkCAzB,OAAO,CAAC6B,gBAAR,CAAyB,OAAzB,EAAkC,YAAK;AACrCvC,aAAW,GAAG,QAAd;AACAO,KAAG,CAAC8B,KAAJ,CAAUI,OAAV,GAAoB,CAApB;AACAlC,KAAG,CAAC8B,KAAJ,CAAUC,SAAV,GAAsB,EAAtB;AACA3B,MAAI,CAAC7C,IAAL,CAAU8C,OAAV,GAAoB,KAApB;AACAD,MAAI,CAAC/C,KAAL,CAAWgD,OAAX,GAAqB,KAArB;AACAG,MAAI;AACL,CAPD,E","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/canvas.js\");\n","export default __webpack_public_path__ + \"224917b28479855f79aab054da85daab.png\";","export default __webpack_public_path__ + \"5ef4a28f9e3740e396d5362a8673ea0e.png\";","export default __webpack_public_path__ + \"f09aea3ffdaf8bba5407a537dadbbc4e.png\";","export default __webpack_public_path__ + \"4680af7c5f2306aa444e414dfa45aa94.png\";","export default __webpack_public_path__ + \"5f65736e5ac5abf291931f8f2f35785f.png\";","export default __webpack_public_path__ + \"c3820ccda43800926905bcb3d873ba9b.png\";","export default __webpack_public_path__ + \"ee77a5a9bf6df2c6e7c8dccb084bbd49.png\";","export default __webpack_public_path__ + \"f0624b996376db386488386a3fca8519.png\";","export default __webpack_public_path__ + \"3dead64675c9fc96955dc148550ef83d.png\";","export default __webpack_public_path__ + \"8be491b480fa0cca99454ffa3f463ac4.png\";","export default __webpack_public_path__ + \"b1c9c5e96d1aecfb597a4c0ceeca962c.png\";","export default __webpack_public_path__ + \"6cba6ee34f71752c877a1a9fa651f9d0.png\";","export default __webpack_public_path__ + \"679aabe2ea02d47cd6aa09af4e0f05a2.png\";","export default __webpack_public_path__ + \"04ce67e9658d7414eb8a5c943abbc029.png\";","export default __webpack_public_path__ + \"b424fc82501c5299633d1266b35335b7.png\";","import platform from '../image/platform.png'\nimport background from '../image/background.png'\nimport bgitems from '../image/bgitems.png'\nimport platformSmallTall from '../image/platformSmallTall.png'\nimport playerRightRun from '../image/playerRightRun.png'\nimport playerStand from '../image/playerStand.png'\nimport playerLeftRun from '../image/playerLeftRun.png'\nimport playerSuperRightRun from '../image/playerSuperRightRun.png'\nimport playerSuperStand from '../image/playerSuperStand.png'\nimport playerSuperLeftRun from '../image/playerSuperLeftRun.png'\nimport candy from '../image/candy.png'\nimport mouseImgR from '../image/mouseRight.png'\nimport mouseImgL from '../image/mouseLeft.png'\nimport mouseImgDied from '../image/mouseDied.png'\nimport box from '../image/box.png'\n\n\nconst canvas = document.querySelector('canvas')\nconst c = canvas.getContext('2d')\n\ncanvas.height = 576\ncanvas.width = 1024\n\nconst gravity = 0.3\n\n\n// 建立玩家實例\nclass Player {\n  constructor() {\n    this.speed = 6\n    this.position = {\n      x: 100,\n      y: 200\n    }\n    this.velocity = {\n      x: 0,\n      y: 0\n\n    }\n    this.width = 91\n    this.height = 100\n\n    this.image = createImage(playerStand)\n    this.frames = 0\n    this.sprites = {\n      normal: {\n        stand: createImage(playerStand),\n        run: {\n          right: createImage(playerRightRun),\n          left: createImage(playerLeftRun),\n        }\n      },\n      super:{\n      stand: createImage(playerSuperStand),\n      run: {\n        right: createImage(playerSuperRightRun),\n        left: createImage(playerSuperLeftRun),\n      }}\n    }\n    this.currentSprite = this.sprites.normal.stand\n    this.state = 'normal'\n  }\n\n  statement() {\n    setTimeout(() =>{ \n      if (this.currentSprite === this.sprites.super.stand){\n        this.currentSprite = this.sprites.normal.stand\n      } else if (this.currentSprite === this.sprites.super.run.right) {\n        this.currentSprite = this.sprites.normal.run.right\n      } else if (this.currentSprite === this.sprites.super.run.left) {\n        this.currentSprite = this.sprites.normal.run.left\n      } \n    this.state = 'normal'}, 3000)\n  }\n\n  draw() {\n    c.drawImage(\n      this.currentSprite,\n      457 * this.frames,\n      0,\n      457 ,\n      503,\n      this.position.x, \n      this.position.y,\n      this.width, \n      this.height)\n\n  }\n\n  update() {\n    this.frames ++\n    if(this.frames > 8) {this.frames = 0}\n\n    this.draw()\n    this.position.x += this.velocity.x\n    this.position.y += this.velocity.y\n    // console.log(this.state)\n\n    if (this.position.y + this.height + this.velocity.y <= canvas.height) { \n      this.velocity.y += gravity\n     }\n  }\n}\n\n// 建立老鼠實例\nclass Mouse {\n  constructor({x,y,d}) {\n    this.speed = 3\n    this.startPosition = {x,y}\n    this.position = {x,y}\n    this.width = 61\n    this.height = 30\n    this.distance = d - this.width\n    this.frame = 0\n    this.allFrames = this.distance / this. speed \n    this.sprites = {\n      right: createImage(mouseImgR),\n      left: createImage(mouseImgL),\n      died: createImage(mouseImgDied)\n    }\n    this.currentSprite = this.sprites.right\n    this.alive = true\n\n  }\n\n  draw() {\n    c.drawImage(\n      this.currentSprite,\n      this.position.x,\n      this.position.y,\n      this.width,\n      this.height)\n  }\n\n  update() {\n    this.draw()\n    this.position.x += this.speed\n    this.frame ++\n    if(!this.alive) {\n      this.currentSprite = this.sprites.died\n      this.speed = 0\n    }\n    if (this.frame > this.allFrames){\n      this.speed = -this.speed \n      this.currentSprite = (this.currentSprite === this.sprites.left) ? this.sprites.right : this.sprites.left\n      this.frame = 0\n    }\n\n  }\n}\n\n// 建立平台實例\nclass Platform { \n  constructor({ x, y, image}) {\n    this.position = {\n      x,\n      y\n    }\n    this.image = image\n    this.width = image.width\n    this.height = image.height\n  }\n\n  draw() {\n    c.drawImage(this.image, this.position.x, this.position.y)\n  }\n}\n\n//建立背景實例\nclass GenericObject {\n  constructor({ x, y, image }) {\n    this.position = {\n      x,\n      y\n    }\n    this.image = image\n    this.width = image.width\n    this.height = image.height\n  }\n\n  draw() {\n    c.drawImage(this.image, this.position.x, this.position.y)\n  }\n}\n\n// 建立錢幣實例\n\nclass Coin {\n  constructor({ x, y, image }) {\n    this.position = {\n      x,\n      y\n    }\n    this.image = image\n    this.width = image.width\n    this.height = image.height\n  }\n\n  draw() {\n    c.drawImage(this.image, this.position.x, this.position.y)\n  }\n\n  clear() {\n    c.clearRect(this.x, this.y, this.width, this.height)\n  }\n}\n\n\n// 建立終點箱子\nclass Goal {\n  constructor() {\n    this.position = {\n      x: 9400,\n      y: 370\n    }\n    this.width = 180\n    this.height = 99\n\n    this.image = createImage(box)\n  }\n\n  draw() {\n    c.drawImage(this.image, this.position.x, this.position.y, this.width, this.height)\n  }\n}\n\nfunction createImage(imageSrc) {\n  const image = new Image()\n  image.src = imageSrc\n  return image\n}\n\nlet platformImage = createImage(platform)\nlet platformSmallTallImage = createImage(platformSmallTall)\n\nlet playerState = 'gaming'\nlet player = ''\nlet platforms = []\nlet genericObjects = []\nlet coins = []\nlet mice = [\n]\nlet goal =''\nlet win = document.querySelector(\".win\")\nlet finalScore = document.querySelector(\".score\")\nlet result = document.querySelector(\".result\")\nlet restart = document.querySelector(\".restart\")\n\n\n\nconst keys = {\n  right: {\n    pressed : false\n  },\n  left: {\n    pressed: false\n  }\n}\n\nlet scrollOffSet = 0\nlet score = 0\n\n// 建立元件\nfunction init() {\n  player = new Player()\n  goal = new Goal()\n\n  score = 0\n\n  platformImage = createImage(platform)\n\n  player = new Player()\n  // mouse = new Mouse({ x: 300, y: 440, d: 100 })\n  platforms = [\n    new Platform({\n      x: platformImage.width * 4 + 300 + platformSmallTallImage.width,\n      y: 350,\n      image: platformSmallTallImage\n    }),\n    new Platform({\n      x: platformImage.width * 4 + 300 + platformSmallTallImage.width * 2,\n      y: 230,\n      image: platformSmallTallImage\n    }),\n    new Platform({\n      x: platformImage.width * 4 + 300 + platformSmallTallImage.width * 2,\n      y: 350,\n      image: platformSmallTallImage\n    }),\n    new Platform({\n      x: platformImage.width * 9 + 300 - 5 + platformSmallTallImage.width * 2,\n      y: 350,\n      image: platformSmallTallImage\n    }),\n    new Platform({\n      x: platformImage.width * 12,\n      y: 350,\n      image: platformSmallTallImage\n    }),\n    new Platform({\n      x: platformImage.width * 14 + 9,\n      y: 230,\n      image: platformSmallTallImage\n    }),\n    new Platform({\n      x: platformImage.width * 14 + 9,\n      y: 350,\n      image: platformSmallTallImage\n    }),\n    new Platform({\n      x: platformImage.width * 14 + 9 - platformSmallTallImage.width,\n      y: 350,\n      image: platformSmallTallImage\n    }),\n    new Platform({\n      x: 0,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width - 1,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 2 + 80,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 3 + 300,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 4 + 300,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 7,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 8,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 9 + 300,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 11,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 12,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 12 + 300,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 13 + 300,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 14 + 700,\n      y: 470,\n      image: platformImage\n    }),\n    new Platform({\n      x: platformImage.width * 15 + 700,\n      y: 470,\n      image: platformImage\n    })]\n\n  genericObjects = [\n    new GenericObject({\n      x: 0,\n      y: 0,\n      image: createImage(background)\n    }\n    ),\n    new GenericObject({\n      x: 0,\n      y: 0,\n      image: createImage(bgitems)\n    }\n    ),]\n\n    coins = [\n      new Coin( {\n        x: 1000,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 100,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 250,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 350,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 450,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 550,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 950,\n        y: 250,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 1050,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 1150,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 1250,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 1350,\n        y: 380,\n        image: createImage(candy)\n      }),\n       new Coin({\n        x: 1000 + 1550,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 1650,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 1950,\n        y: 260,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 2050,\n        y: 260,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 2250,\n        y: 150,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 2350,\n        y: 150,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 3050,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 3150,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 3250,\n        y: 250,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: 1000 + 3350,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 9 + 300,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 9 + 400,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 9 + 500,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 9 + 600,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 11 +100,\n        y: 380,\n        image: createImage(candy)\n      }),\n            new Coin({\n        x: platformImage.width * 11 + 200,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 11 + 300,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 11 + 400,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 11 + 500,\n        y: 380,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 11 + 650,\n        y: 260,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 11 + 750,\n        y: 260,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 13 + 320,\n        y: 260,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 13 + 420,\n        y: 260,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 13 + 520,\n        y: 260,\n        image: createImage(candy)\n      }),\n            new Coin({\n        x: platformImage.width * 13 + 620,\n        y: 260,\n        image: createImage(candy)\n      }),\n      new Coin({\n        x: platformImage.width * 13 + 720,\n        y: 260,\n        image: createImage(candy)\n      }),\n            new Coin({\n        x: platformImage.width * 13 + 820,\n        y: 260,\n        image: createImage(candy)\n      }),\n    ]\n    mice = [\n      new Mouse({\n        x: platformImage.width,\n        y: 440,\n        d: platformImage.width \n      }),\n      new Mouse({\n        x: platformImage.width * 7,\n        y: 440,\n        d: platformImage.width *2\n      }),\n      new Mouse({\n        x: platformImage.width * 9 + 300 - 5 + platformSmallTallImage.width * 2,\n        y: 322,\n        d: platformSmallTallImage.width\n      }),\n    ]\n  scrollOffSet = 0\n}\n\n// 繪製分數\nfunction drawScore() {\n  c.font = \"40px Arial\"\n  c.fillStyle = \"#FFFFFF\"\n  c.fillText(\"Score: \"+score, 50, 100)\n}\n\n// 建立掉落動畫\nfunction animate() {\n  requestAnimationFrame(animate)\n  c.fillStyle = 'white'\n  c.fillRect(0, 0, canvas.width, canvas.height)\n  genericObjects.forEach(genericObject => { genericObject.draw()})\n  platforms.forEach(platform => { platform.draw()})\n  coins.forEach(coin => { coin.draw() })\n  mice.forEach(mouse => { mouse.update() })\n  player.update()\n  goal.draw()\n  drawScore()\n\n  // 設定撞到終點\n  if (keys.right.pressed && player.position.x + player.width -10 > goal.position.x && player.position.x < goal.position.x + goal.width -20 && player.position.y +player.height > goal.position.y){\n    player.velocity.x = 0 \n\n  } else if (keys.left.pressed && player.position.x <= goal.position.x + goal.width - 10 && player.position.x >= goal.position.x && player.position.y + player.height > goal.position.y) {\n    player.velocity.x = 0\n  }\n  // 設定 x軸控制\n  else if ((keys.right.pressed && player.position.x < canvas.width / 2 ) || keys.right.pressed && scrollOffSet >= 8835 && player.position.x < 930) {\n    player.velocity.x = player.speed\n\n  } else if ((keys.left.pressed && player.position.x > 100) || keys.left.pressed && scrollOffSet === 0 && player.position.x >0) {\n    player.velocity.x = -player.speed\n  } else { \n\n    player.velocity.x = 0 \n\n    // 背景移動\n    if (keys.right.pressed && scrollOffSet < 8835) {\n\n      scrollOffSet += player.speed\n      genericObjects.forEach(genericObjects => {\n        genericObjects.position.x -= player.speed * 0.66\n      } )\n      platforms.forEach(platform => {\n        platform.position.x -= player.speed\n      })\n      coins.forEach(coin => {\n        coin.position.x -= player.speed\n      })\n      mice.forEach(mouse => {\n        mouse.position.x -= player.speed\n      })\n      goal.position.x -= player.speed\n    } else if (keys.left.pressed && scrollOffSet > 0) {\n      scrollOffSet -= player.speed\n      genericObjects.forEach(genericObjects => {\n        genericObjects.position.x += player.speed * 0.66\n      })\n      platforms.forEach(platform => {\n        platform.position.x += player.speed\n      })\n      mice.forEach(mouse => {\n        mouse.position.x += player.speed\n      })\n      coins.forEach(coin => {\n        coin.position.x += player.speed\n      })\n      goal.position.x += player.speed\n\n    }\n  }\n\n  // 吃金幣\n  coins.forEach((coin, index, coins) => {\n    if (player.position.x + player.width - 10 > coin.position.x && player.position.x < coin.position.x + coin.width && player.position.y + player.height > coin.position.y && player.position.y < coin.position.y + coin.height) {\n      coins.splice(index, 1);\n      score += 10\n    }\n  })\n\n  // 老鼠碰撞\nmice.forEach((mouse, index, mice)=> {\n  if (mouse.alive && player.position.x + player.width > mouse.position.x && player.position.x < mouse.position.x + mouse.width && player.height + player.position.y <= mouse.position.y && player.height + player.position.y + player.velocity.y >= mouse.position.y ) {\n    score += 50\n    mouse.alive = false\n    setTimeout(() => { mice.splice(index, 1)},1000)\n  } else if (mouse.alive && player.position.x + player.width > mouse.position.x && player.position.x < mouse.position.x + mouse.width && player.height + player.position.y > mouse.position.y && player.state === 'normal' ) {\n    score -= 100\n    player.state = 'super'\n    if (player.currentSprite === player.sprites.normal.stand) {\n      player.currentSprite = player.sprites.super.stand\n    } else if (player.currentSprite === player.sprites.normal.run.right) {\n      player.currentSprite = player.sprites.super.run.right\n    } else if (player.currentSprite === player.sprites.normal.run.left) {\n      player.currentSprite = player.sprites.super.run.left\n    }\n    player.statement()\n    \n  }\n})\n\n\n  // 平台碰撞\n  platforms.forEach(platform => {\n    if (player.height + player.position.y <= platform.position.y && player.height + player.position.y + player.velocity.y >= platform.position.y && player.position.x + player.width >= platform.position.x && player.position.x <= platform.position.x + platform.width) {\n      player.velocity.y = 0\n    }\n\n  })\n\n  // 終點箱子進出\n  if ((player.position.x + player.width <= goal.position.x + player.width && player.position.x + player.width >= goal.position.x && player.height + player.position.y <= goal.position.y && player.height + player.position.y + player.velocity.y > goal.position.y) ||\n   (player.position.x >= goal.position.x + goal.width - player.width && player.position.x <= goal.position.x + goal.width && player.height + player.position.y <= goal.position.y && player.height + player.position.y + player.velocity.y > goal.position.y) ||\n    (player.position.x >= goal.position.x && player.position.x <= goal.position.x + goal.width   && player.height + player.position.y <= goal.position.y + 60 && player.height + player.position.y + player.velocity.y >= goal.position.y + 60)){\n    player.velocity.y = 0\n    console.log('here4')\n  } \n\n\n  // 贏的狀況\n\n  if (player.position.x > goal.position.x  && player.position.x  < goal.position.x + goal.width - 12 && player.position.y + player.height > goal.position.y) {\n    playerState = 'win'\n    finalScore.innerHTML = score\n    result.innerHTML = 'YOU WIN!'\n    win.style.animation = 'Opacity 1s linear 0.2s forwards'\n    // win.style.display = 'block'\n    console.log('win')\n  }\n\n  //輸的狀況\n  if (player.position.y > canvas.height) {\n    init()\n    console.log('you lose')\n  }\n  // console.log('playerState', playerState)\n}\n\n\ninit()\nanimate()\ndrawScore()\n\n// 設定鍵盤\naddEventListener('keydown', ({ keyCode }) => {\n  if (playerState === 'gaming'){\n    switch (keyCode) {\n      case 65:\n        console.log('left')\n        keys.left.pressed = true\n        if (player.state === 'super') {\n          player.currentSprite = player.sprites.super.run.left\n        } else {\n          player.currentSprite = player.sprites.normal.run.left\n        }\n\n        break\n\n      case 83:\n        console.log('down')\n        break\n\n      case 68:\n        console.log('right')\n        keys.right.pressed = true\n        if (player.state === 'super') {\n          player.currentSprite = player.sprites.super.run.right\n        } else {\n          player.currentSprite = player.sprites.normal.run.right\n        }\n        break\n\n      case 87:\n        console.log('up')\n        player.velocity.y -= 9\n        break\n    }\n  }\n\n})\n\naddEventListener('keyup', ({ keyCode }) => {\n  if (playerState === 'gaming') {\n  switch (keyCode) {\n    case 65:\n      console.log('left')\n      keys.left.pressed = false\n      if (player.state === 'super') {\n        player.currentSprite = player.sprites.super.stand\n      } else {\n        player.currentSprite = player.sprites.normal.stand\n      }\n      break\n\n    case 83:\n      console.log('down')\n      break\n\n    case 68:\n      console.log('right')\n      keys.right.pressed = false\n      if (player.state === 'super') {\n        player.currentSprite = player.sprites.super.stand\n      } else {\n        player.currentSprite = player.sprites.normal.stand\n      }\n      break\n\n    case 87:\n      console.log('up')\n      break\n  }\n}\n})\n\nrestart.addEventListener('click', ()=> {\n  playerState = 'gaming'\n  win.style.opacity = 0\n  win.style.animation = ''\n  keys.left.pressed = false\n  keys.right.pressed = false\n  init()\n})"],"sourceRoot":""}